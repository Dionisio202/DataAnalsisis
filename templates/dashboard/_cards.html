<div class="cards" id="cards">
  {% for c in cards %}
    <div class="card" data-code="{{ c.code }}">
      <h3>{{ c.label }}</h3>
      <div class="value">
        {% if c.last_value is not None %}{{ c.last_value|floatformat:1 }} {{ c.unit }}{% else %}â€”{% endif %}
      </div>
      <div class="badge-row">
        <span class="badge" style="background-color: {{ c.category.color|default:'#6b7280' }};">
          {{ c.category.label }}
        </span>
        {% if c.last_at %}
          <span class="timestamp">{{ c.last_at|date:"d/m/y H:i" }}</span>
        {% endif %}
      </div>
      <div class="card-stats">
        <div class="stat-row">
          <span class="stat-label">Promedio</span>
          <span class="stat-value">
            {% if c.avg is not None %}{{ c.avg|floatformat:1 }} {{ c.unit }}{% else %}â€”{% endif %}
          </span>
        </div>
        <div class="stat-row">
          <span class="stat-label">MÃ­nimo</span>
          <span class="stat-value">
            {% if c.min is not None %}{{ c.min|floatformat:1 }} {{ c.unit }}{% else %}â€”{% endif %}
          </span>
        </div>
        <div class="stat-row">
          <span class="stat-label">MÃ¡ximo</span>
          <span class="stat-value">
            {% if c.max is not None %}{{ c.max|floatformat:1 }} {{ c.unit }}{% else %}â€”{% endif %}
          </span>
        </div>
      </div>
      {% if c.range_text %}
        <div class="card-reference">
          ðŸ“‹ Referencia: {{ c.range_text }}
        </div>
      {% endif %}
    </div>
  {% endfor %}
</div>
